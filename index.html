
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Swiper.js 專業圖片相簿 (阿剛老師版)</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <style>
        html, body {
            position: relative;
            height: 100%;
            margin: 0;
            padding: 0;
            font-family: sans-serif;
            background-color: #000;
            overflow: hidden;
        }
        body {
            display: flex;
            flex-direction: column;
        }
        .swiper-container-wrapper {
            width: 100%;
            height: calc(100% - 100px);
            position: relative;
            overflow: hidden;
        }
        .swiper { width: 100%; height: 100%; }
        .swiper-slide {
            display: flex;
            justify-content: center;
            align-items: center;
            background: #000;
        }
        .swiper-slide img {
            display: block;
            width: auto;
            height: auto;
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            cursor: pointer;
        }
        .swiper-thumbs { height: 100px; box-sizing: border-box; padding: 10px 0; }
        .swiper-thumbs .swiper-slide { width: 80px; height: 80px; opacity: 0.5; transition: opacity 0.3s; cursor: pointer !important; }
        .swiper-thumbs .swiper-slide-thumb-active { opacity: 1; border: 3px solid #f7a738; }
        .swiper-thumbs .swiper-slide img { width: 100%; height: 100%; object-fit: cover; pointer-events: none; } /* 讓點擊事件穿透到父層 slide */
        
        .swiper-button-next, .swiper-button-prev { color: #ffffff; opacity: 0.7; transition: opacity 0.3s; }
        .swiper-button-next:hover, .swiper-button-prev:hover { opacity: 1; }

        #controls-toggle {
            position: absolute;
            bottom: 115px;
            right: 15px;
            width: 50px;
            height: 50px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            border: 1px solid white;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            z-index: 100;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: transform 0.3s, background-color 0.3s;
        }
        #controls-toggle:hover { background-color: rgba(255, 255, 255, 0.2); }
        #controls-toggle.is-open { transform: rotate(90deg); }

        .control-bar {
            position: absolute;
            bottom: 0;
            width: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
            z-index: 50;
            box-sizing: border-box;
            transform: translateY(100%);
            transition: transform 0.4s ease-in-out;
        }
        .control-bar.is-open { transform: translateY(0); }
        .control-bar label, .control-bar button, .control-bar input, .control-bar select {
            font-size: 14px;
            color: #fff;
            background-color: rgba(0,0,0,0.4);
            border: 1px solid #fff;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .control-bar button:hover, .control-bar select:hover, .control-bar input:hover { background-color: rgba(255, 255, 255, 0.2); }
        .control-bar select option { background-color: #333; color: white; }

        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.95); align-items: center; justify-content: center; }
        .modal-content { max-width: 90%; max-height: 90%; object-fit: contain; }
        .close { position: absolute; top: 10px; right: 25px; color: #fff; font-size: 50px; cursor: pointer; }

        .watermark {
            position: fixed;
            bottom: 15px;
            left: 15px;
            background-color: rgba(0, 0, 0, 0.6);
            color: white;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 12px;
            z-index: 90;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <div class="swiper-container-wrapper">
        <div class="swiper swiper-main">
            <div class="swiper-wrapper">
            <div class="swiper-slide">
                <img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXdtqs3IIdD-y7JU2leoiz8ntuKvUykIvBuwexGuRG_z754v3aHjKxrD67XwdMIdy-gr4bmse3gYeorWBfyr7ptZ-vOeq94Fer8Bx-NXzuWZtpaJorTQnNrdN2ymIKLLO3Y?key=OV-gyW-gXBKRTCZSGz1aOg" onclick="openModal('https://lh7-rt.googleusercontent.com/docsz/AD_4nXdtqs3IIdD-y7JU2leoiz8ntuKvUykIvBuwexGuRG_z754v3aHjKxrD67XwdMIdy-gr4bmse3gYeorWBfyr7ptZ-vOeq94Fer8Bx-NXzuWZtpaJorTQnNrdN2ymIKLLO3Y?key=OV-gyW-gXBKRTCZSGz1aOg')" />
            </div>
            <div class="swiper-slide">
                <img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXcphdCXbK1voeCxCeinkLZpCmEJoaHx-_l-vjicyqWN0vNG74I3H0XAOfFyMzQsKEYKtZEr9kJxUXaZBbMIuaIfXa08cg9QJBMAOwpQbEfkvyI9k3Nwel0YFGHp-BcF0oo?key=OV-gyW-gXBKRTCZSGz1aOg" onclick="openModal('https://lh7-rt.googleusercontent.com/docsz/AD_4nXcphdCXbK1voeCxCeinkLZpCmEJoaHx-_l-vjicyqWN0vNG74I3H0XAOfFyMzQsKEYKtZEr9kJxUXaZBbMIuaIfXa08cg9QJBMAOwpQbEfkvyI9k3Nwel0YFGHp-BcF0oo?key=OV-gyW-gXBKRTCZSGz1aOg')" />
            </div>
            <div class="swiper-slide">
                <img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXdoSS46xYnwTVMvv96PN4MbGIYFNBHkoUEwWrriKDvx2TzMvg4ek29waj_lqSuPBbhNwoObycvHidEPNVlvlSFhNiyNyZDNa2Z-tBMVrHGu43vr9LQikAtscMb3_Gdb-Q?key=OV-gyW-gXBKRTCZSGz1aOg" onclick="openModal('https://lh7-rt.googleusercontent.com/docsz/AD_4nXdoSS46xYnwTVMvv96PN4MbGIYFNBHkoUEwWrriKDvx2TzMvg4ek29waj_lqSuPBbhNwoObycvHidEPNVlvlSFhNiyNyZDNa2Z-tBMVrHGu43vr9LQikAtscMb3_Gdb-Q?key=OV-gyW-gXBKRTCZSGz1aOg')" />
            </div>
            <div class="swiper-slide">
                <img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXfcIs3Il-nqcnphyfU5WpDMWMm7Q2pLH-s84osH_qhdG2F7ZYELh0TftzZT_olgCe6WLvKGMKOYhhBMflxh9eawlCRD-HQEuJwbTf-qtsnYNWFkZx0R47_1mhn6VL3PM5s?key=OV-gyW-gXBKRTCZSGz1aOg" onclick="openModal('https://lh7-rt.googleusercontent.com/docsz/AD_4nXfcIs3Il-nqcnphyfU5WpDMWMm7Q2pLH-s84osH_qhdG2F7ZYELh0TftzZT_olgCe6WLvKGMKOYhhBMflxh9eawlCRD-HQEuJwbTf-qtsnYNWFkZx0R47_1mhn6VL3PM5s?key=OV-gyW-gXBKRTCZSGz1aOg')" />
            </div>
            <div class="swiper-slide">
                <img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXfar-CoPAI-7yetHiKeXkOF--zwHmeRzTY1rBhswwnNpJAJPJrtJIJAT1lAUBlLLD183xpoauHiUAnLi78_otQqkPAcjC-yof7vNGUk_1-bi9jufkFE46jJ4SyRlawY_A8?key=OV-gyW-gXBKRTCZSGz1aOg" onclick="openModal('https://lh7-rt.googleusercontent.com/docsz/AD_4nXfar-CoPAI-7yetHiKeXkOF--zwHmeRzTY1rBhswwnNpJAJPJrtJIJAT1lAUBlLLD183xpoauHiUAnLi78_otQqkPAcjC-yof7vNGUk_1-bi9jufkFE46jJ4SyRlawY_A8?key=OV-gyW-gXBKRTCZSGz1aOg')" />
            </div>
            <div class="swiper-slide">
                <img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXcKZFn6n_684ILztXpRd5fPo22UFBk9Ug5GRs0PT3G-tlj1oVGBCPjipG1J-GWmpTSKYYKlUGOOQNs_k_OFI432WVEQYtLTgOHYaLdES8mL-eojVnM3mWi8Ecvq54NAVF8?key=OV-gyW-gXBKRTCZSGz1aOg" onclick="openModal('https://lh7-rt.googleusercontent.com/docsz/AD_4nXcKZFn6n_684ILztXpRd5fPo22UFBk9Ug5GRs0PT3G-tlj1oVGBCPjipG1J-GWmpTSKYYKlUGOOQNs_k_OFI432WVEQYtLTgOHYaLdES8mL-eojVnM3mWi8Ecvq54NAVF8?key=OV-gyW-gXBKRTCZSGz1aOg')" />
            </div></div>
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
        </div>
        <div class="control-bar" id="control-bar">
            <label for="transition-select">轉場效果:</label>
            <select id="transition-select" onchange="updateTransition()">
                <option value="slide">滑動 (Slide)</option>
                <option value="fade">淡入淡出 (Fade)</option>
                <option value="coverflow">封面流 (Coverflow)</option>
                <option value="cube">方塊 (Cube)</option>
                <option value="flip">翻轉 (Flip)</option>
            </select>
            <label for="interval-input">間隔(秒):</label>
            <input type="number" id="interval-input" value="5" min="1" max="60" onchange="updateInterval()">
            <button id="stop-button" onclick="stopSlideshow()">⏹️ 停止</button>
            <button id="start-button" onclick="startSlideshow()">▶️ 開始</button>
        </div>
    </div>

    <button id="controls-toggle">⚙️</button>

    <div class="swiper swiper-thumbs">
        <div class="swiper-wrapper">
            <div class="swiper-slide">
                <img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXdtqs3IIdD-y7JU2leoiz8ntuKvUykIvBuwexGuRG_z754v3aHjKxrD67XwdMIdy-gr4bmse3gYeorWBfyr7ptZ-vOeq94Fer8Bx-NXzuWZtpaJorTQnNrdN2ymIKLLO3Y?key=OV-gyW-gXBKRTCZSGz1aOg" />
            </div>
            <div class="swiper-slide">
                <img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXcphdCXbK1voeCxCeinkLZpCmEJoaHx-_l-vjicyqWN0vNG74I3H0XAOfFyMzQsKEYKtZEr9kJxUXaZBbMIuaIfXa08cg9QJBMAOwpQbEfkvyI9k3Nwel0YFGHp-BcF0oo?key=OV-gyW-gXBKRTCZSGz1aOg" />
            </div>
            <div class="swiper-slide">
                <img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXdoSS46xYnwTVMvv96PN4MbGIYFNBHkoUEwWrriKDvx2TzMvg4ek29waj_lqSuPBbhNwoObycvHidEPNVlvlSFhNiyNyZDNa2Z-tBMVrHGu43vr9LQikAtscMb3_Gdb-Q?key=OV-gyW-gXBKRTCZSGz1aOg" />
            </div>
            <div class="swiper-slide">
                <img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXfcIs3Il-nqcnphyfU5WpDMWMm7Q2pLH-s84osH_qhdG2F7ZYELh0TftzZT_olgCe6WLvKGMKOYhhBMflxh9eawlCRD-HQEuJwbTf-qtsnYNWFkZx0R47_1mhn6VL3PM5s?key=OV-gyW-gXBKRTCZSGz1aOg" />
            </div>
            <div class="swiper-slide">
                <img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXfar-CoPAI-7yetHiKeXkOF--zwHmeRzTY1rBhswwnNpJAJPJrtJIJAT1lAUBlLLD183xpoauHiUAnLi78_otQqkPAcjC-yof7vNGUk_1-bi9jufkFE46jJ4SyRlawY_A8?key=OV-gyW-gXBKRTCZSGz1aOg" />
            </div>
            <div class="swiper-slide">
                <img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXcKZFn6n_684ILztXpRd5fPo22UFBk9Ug5GRs0PT3G-tlj1oVGBCPjipG1J-GWmpTSKYYKlUGOOQNs_k_OFI432WVEQYtLTgOHYaLdES8mL-eojVnM3mWi8Ecvq54NAVF8?key=OV-gyW-gXBKRTCZSGz1aOg" />
            </div></div>
    </div>

    <div class="watermark">Made by 阿剛老師</div>

    <div id="myModal" class="modal">
        <span class="close" id="modalClose">&times;</span>
        <img class="modal-content" id="img01">
    </div>

<script>
    let mainSwiper;
    let thumbsSwiper;
    const imageUrls = ['https://lh7-rt.googleusercontent.com/docsz/AD_4nXdtqs3IIdD-y7JU2leoiz8ntuKvUykIvBuwexGuRG_z754v3aHjKxrD67XwdMIdy-gr4bmse3gYeorWBfyr7ptZ-vOeq94Fer8Bx-NXzuWZtpaJorTQnNrdN2ymIKLLO3Y?key=OV-gyW-gXBKRTCZSGz1aOg','https://lh7-rt.googleusercontent.com/docsz/AD_4nXcphdCXbK1voeCxCeinkLZpCmEJoaHx-_l-vjicyqWN0vNG74I3H0XAOfFyMzQsKEYKtZEr9kJxUXaZBbMIuaIfXa08cg9QJBMAOwpQbEfkvyI9k3Nwel0YFGHp-BcF0oo?key=OV-gyW-gXBKRTCZSGz1aOg','https://lh7-rt.googleusercontent.com/docsz/AD_4nXdoSS46xYnwTVMvv96PN4MbGIYFNBHkoUEwWrriKDvx2TzMvg4ek29waj_lqSuPBbhNwoObycvHidEPNVlvlSFhNiyNyZDNa2Z-tBMVrHGu43vr9LQikAtscMb3_Gdb-Q?key=OV-gyW-gXBKRTCZSGz1aOg','https://lh7-rt.googleusercontent.com/docsz/AD_4nXfcIs3Il-nqcnphyfU5WpDMWMm7Q2pLH-s84osH_qhdG2F7ZYELh0TftzZT_olgCe6WLvKGMKOYhhBMflxh9eawlCRD-HQEuJwbTf-qtsnYNWFkZx0R47_1mhn6VL3PM5s?key=OV-gyW-gXBKRTCZSGz1aOg','https://lh7-rt.googleusercontent.com/docsz/AD_4nXfar-CoPAI-7yetHiKeXkOF--zwHmeRzTY1rBhswwnNpJAJPJrtJIJAT1lAUBlLLD183xpoauHiUAnLi78_otQqkPAcjC-yof7vNGUk_1-bi9jufkFE46jJ4SyRlawY_A8?key=OV-gyW-gXBKRTCZSGz1aOg','https://lh7-rt.googleusercontent.com/docsz/AD_4nXcKZFn6n_684ILztXpRd5fPo22UFBk9Ug5GRs0PT3G-tlj1oVGBCPjipG1J-GWmpTSKYYKlUGOOQNs_k_OFI432WVEQYtLTgOHYaLdES8mL-eojVnM3mWi8Ecvq54NAVF8?key=OV-gyW-gXBKRTCZSGz1aOg'];

    function initSwiper(effect = 'slide') {
        if (mainSwiper) mainSwiper.destroy(true, true);

        thumbsSwiper = new Swiper('.swiper-thumbs', {
            spaceBetween: 10,
            slidesPerView: 'auto',
            freeMode: true,
            watchSlidesProgress: true,
        });

        mainSwiper = new Swiper('.swiper-main', {
            effect: effect,
            grabCursor: true,
            cubeEffect: { shadow: true, slideShadows: true, shadowOffset: 20, shadowScale: 0.94 },
            coverflowEffect: { rotate: 50, stretch: 0, depth: 100, modifier: 1, slideShadows: true },
            autoplay: {
                delay: parseInt(document.getElementById('interval-input').value, 10) * 1000,
                disableOnInteraction: false, // 確保互動後(例如點擊縮圖)繼續播放
            },
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            },
            thumbs: { swiper: thumbsSwiper },
            loop: imageUrls.length > 1,
        });
    }

    function startSlideshow() {
        if (!mainSwiper) return;
        mainSwiper.autoplay.start();
        document.getElementById('stop-button').style.backgroundColor = '';
        document.getElementById('start-button').style.backgroundColor = 'green';
    }

    function stopSlideshow() {
        if (!mainSwiper) return;
        mainSwiper.autoplay.stop();
        document.getElementById('stop-button').style.backgroundColor = 'red';
        document.getElementById('start-button').style.backgroundColor = '';
    }

    function updateInterval() {
        if (!mainSwiper) return;
        const seconds = parseInt(document.getElementById('interval-input').value, 10);
        if (seconds >= 1 && seconds <= 60) {
            mainSwiper.params.autoplay.delay = seconds * 1000;
            if (mainSwiper.autoplay.running) {
                mainSwiper.autoplay.stop();
                mainSwiper.autoplay.start();
            }
        } else {
            alert('間隔時間必須在 1 到 60 秒之間！');
            document.getElementById('interval-input').value = mainSwiper.params.autoplay.delay / 1000;
        }
    }

    function updateTransition() {
        const selectedEffect = document.getElementById('transition-select').value;
        initSwiper(selectedEffect);
        startSlideshow();
    }

    const modal = document.getElementById('myModal');
    const modalImg = document.getElementById('img01');
    const closeModal = document.getElementById('modalClose');

    function openModal(src) {
        stopSlideshow();
        modal.style.display = 'flex';
        modalImg.src = src;
    }
    closeModal.onclick = () => { modal.style.display = 'none'; startSlideshow(); };
    modal.onclick = (event) => {
        if (event.target !== modalImg) {
             modal.style.display = 'none';
             startSlideshow(); // 關閉大圖後也恢復播放
        }
    };

    document.addEventListener('DOMContentLoaded', () => {
        if (imageUrls.length > 0) {
            initSwiper('slide');
            startSlideshow();

            const toggleButton = document.getElementById('controls-toggle');
            const controlBar = document.getElementById('control-bar');
            toggleButton.addEventListener('click', () => {
                controlBar.classList.toggle('is-open');
                toggleButton.classList.toggle('is--open');
            });

        } else {
            document.body.innerHTML = '<h2 style="color:white; text-align:center;">相簿沒有圖片！</h2>';
        }
    });
</script>
</body>
</html>
    